<nav class="bg-navy border-gray-200 fade-in">
  <div class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4">
    <!-- Blog Branding -->
    <a routerLink="/" class="flex items-center space-x-3">
      <img src="https://media-hosting.imagekit.io/a9b61a6e797043f3/enaa%20blog.png?Expires=1840208262&Key-Pair-Id=K2ZIVPTIP2VGHC&Signature=i6bzPZIkgrhMETYU8NJVN7kxDGhT20c-A0wkrbbUscb0WG5vYDiVL~tz7CNf-HEPMOhgFswUc3OEXJwpvLSDDvxDKf9cZew0sBTrvkcpk-T8tjQi42wj7gCxnyFp3dCS4b43ajLBkbR-CN6LpDryavKmEKvCPm0xB4LLkxYS3hGDm6hpTxTF5hWkGBnGNGcNUc7WOqprdBd8n8alrgNYv-d9dIiY7axeWhF0cCkA8BcC6jt-G816rNgqujxhSs4S~KQZGnMEYiVz76N171nQgPSldM~06tQTLMeAWRtuWuhSxoRbWBMLypy6mEDKEzqEW-vQ9YWcw8WPCl2cFzd4QA__" class="h-8" alt="Blog Logo" />
      <span class="self-center text-2xl font-semibold whitespace-nowrap text-white">ENAA BLOG</span>
    </a>
    <!-- Right Side: Search and Menu Toggle -->
    <div class="flex space-x-3">
      <!-- Search Button (Mobile) -->
      <button type="button" data-collapse-toggle="navbar-menu" aria-controls="navbar-menu" [attr.aria-expanded]="isMenuOpen" class="md:hidden text-yellow-400 hover:bg-gray-100 focus:outline-none focus:ring-4 focus:ring-gray-200 rounded-lg text-sm p-2.5">
        <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
          <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"/>
        </svg>
        <span class="sr-only">Search</span>
      </button>
      <!-- Search Input (Desktop) -->
      <div class="relative hidden md:block">
        <div class="absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none">
          <svg class="w-4 h-4 text-yellow-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"/>
          </svg>
        </div>
        <input type="text" id="search-navbar" class="block w-full p-2 ps-10 text-sm text-navy border border-gray-300 rounded-lg bg-white focus:ring-yellow-400 focus:border-yellow-400 placeholder-gray-400" placeholder="Search articles...">
      </div>
      <!-- Menu Toggle Button (Mobile) -->
      <button (click)="toggleMenu()" type="button" class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-yellow-400 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200" aria-controls="navbar-menu" [attr.aria-expanded]="isMenuOpen">
        <span class="sr-only">Open main menu</span>
        <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 17 14">
          <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 1h15M1 7h15M1 13h15"/>
        </svg>
      </button>
    </div>
    <!-- Collapsible Menu -->
    <div [ngClass]="{'hidden': !isMenuOpen, 'w-full': true, 'md:flex': true, 'md:w-auto': true}" class="items-center justify-between" id="navbar-menu">
      <!-- Search Input (Mobile) -->
      <div class="relative mt-3 md:hidden">
        <div class="absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none">
          <svg class="w-4 h-4 text-yellow-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"/>
          </svg>
        </div>
        <input type="text" id="search-navbar-mobile" class="block w-full p-2 ps-10 text-sm text-navy border border-gray-300 rounded-lg bg-white focus:ring-yellow-400 focus:border-yellow-400 placeholder-gray-400" placeholder="Search articles...">
      </div>
      <!-- Menu Links -->
      <ul class="flex flex-col p-4 md:p-0 mt-4 font-medium border border-gray-100 rounded-lg bg-navy md:bg-transparent md:space-x-8 md:flex-row md:mt-0 md:border-0">
        <li>
          <a routerLink="/" class="block py-2 px-3 text-white hover:text-yellow-400 transition-colors duration-200 menu-link">Home</a>
        </li>
        <li>
          <a routerLink="/posts" class="block py-2 px-3 text-white hover:text-yellow-400 transition-colors duration-200 menu-link">Posts</a>
        </li>
        <li *ngIf="currentUser()">
          <a routerLink="/posts/new" class="block py-2 px-3 text-white hover:text-yellow-400 transition-colors duration-200 menu-link">Create Post</a>
        </li>
        <li>
          <a routerLink="/about" class="block py-2 px-3 text-white hover:text-yellow-400 transition-colors duration-200 menu-link">About</a>
        </li>
        <!-- Show Login and Register only if not logged in -->
        <li *ngIf="!currentUser()">
          <a routerLink="/login" class="block py-2 px-3 text-white hover:text-yellow-400 transition-colors duration-200 menu-link">Login</a>
        </li>
        <li *ngIf="!currentUser()">
          <a routerLink="/register" class="block py-2 px-3 text-white hover:text-yellow-400 transition-colors duration-200 menu-link">Register</a>
        </li>
        <!-- Show Sign Out only if logged in -->
        <li *ngIf="currentUser()">
          <button (click)="signOut()" class="block py-2 px-3 text-white hover:text-yellow-400 transition-colors duration-200 menu-link">Sign Out</button>
        </li>
      </ul>
    </div>
  </div>
</nav>